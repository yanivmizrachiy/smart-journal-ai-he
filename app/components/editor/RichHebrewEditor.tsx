import { useEffect,useRef,useState } from 'react'; import { save,load } from '../../lib/storage'
export default function RichHebrewEditor({path}:{path:string}){const ref=useRef<HTMLDivElement>(null);const [s,setS]=useState('');useEffect(()=>{(async()=>{const e=await load(path);if(ref.current)ref.current.innerText=e?.content||''})()},[path]);function onInput(){setS('שומר…');const c=ref.current?.innerText||'';clearTimeout((onInput as any)._t);(onInput as any)._t=setTimeout(async()=>{await save(path,c);setS('נשמר ✓')},600)}return(<><div contentEditable dir="rtl" onInput={onInput} style={{minHeight:220,border:'1px solid #e5e7eb',borderRadius:12,background:'#fff',padding:10}}></div><div style={{fontSize:12,opacity:.7,marginTop:6}}>{s}</div></>)}
